{
  "title": "python-sdk - Api Documentation",
  "content": "# Python SDK API Documentation\n\n## API Overview\n\nThe Python SDK provides a comprehensive set of tools and utilities for interacting with the MCP (Modular Communication Protocol) environment. It includes modules for handling authentication, session management, and HTTP communication, among others. This documentation aims to guide developers through the core modules, classes, and functions, providing detailed descriptions, usage examples, and error handling strategies.\n\n## Core Modules\n\n### Module: `types`\n\n**Path**: `src/mcp/types.py`\n\nThis module defines various parameter types used throughout the SDK.\n\n#### Classes\n\n- **`RequestParams`**: Represents basic request parameters.\n- **`PaginatedRequestParams`**: Represents parameters for paginated requests.\n- **`NotificationParams`**: Represents parameters for notifications.\n\n### Module: `claude`\n\n**Path**: `src/mcp/cli/claude.py`\n\nThis module provides utilities for integrating with the Claude application.\n\n#### Functions\n\n- **`get_claude_config_path()`** -> `Path | None`\n  - **Description**: Retrieves the Claude configuration directory based on the platform.\n  - **Example**:\n    ```python\n    from mcp.cli.claude import get_claude_config_path\n\n    config_path = get_claude_config_path()\n    print(config_path)\n    ```\n\n- **`get_uv_path()`** -> `str`\n  - **Description**: Retrieves the full path to the UV executable.\n  - **Example**:\n    ```python\n    from mcp.cli.claude import get_uv_path\n\n    uv_path = get_uv_path()\n    print(uv_path)\n    ```\n\n- **`update_claude_config(file_spec, server_name)`** -> `bool`\n  - **Description**: Adds or updates a FastMCP server in Claude's configuration.\n  - **Parameters**:\n    - `file_spec`: `Path` - Path to the server file.\n    - `server_name`: `str` - Name of the server.\n  - **Example**:\n    ```python\n    from mcp.cli.claude import update_claude_config\n\n    success = update_claude_config('/path/to/server', 'MyServer')\n    print(success)\n    ```\n\n### Module: `auth`\n\n**Path**: `src/mcp/client/auth.py`\n\nImplements OAuth2 authentication with PKCE and automatic token refresh.\n\n#### Classes\n\n- **`TokenStorage`**: Protocol for token storage implementations.\n- **`OAuthClientProvider`**: Manages OAuth flow with automatic client registration and token handling.\n  - **Methods**:\n    - `__init__(self, server_url, client_metadata, storage, redirect_handler, callback_handler, timeout)`\n    - `_generate_code_verifier(self) -> str`\n    - `_generate_code_challenge(self, code_verifier) -> str`\n    - `_get_authorization_base_url(self, server_url) -> str`\n    - `_has_valid_token(self) -> bool`\n\n#### Authentication Example\n\n```python\nfrom mcp.client.auth import OAuthClientProvider, TokenStorage\n\nclass MyTokenStorage(TokenStorage):\n    # Implement token storage methods\n\nprovider = OAuthClientProvider(\n    server_url='https://api.example.com',\n    client_metadata={'client_id': 'my-client-id'},\n    storage=MyTokenStorage(),\n    redirect_handler=None,\n    callback_handler=None,\n    timeout=30\n)\n\nif provider._has_valid_token():\n    print(\"Token is valid\")\n```\n\n### Module: `session_group`\n\n**Path**: `src/mcp/client/session_group.py`\n\nManages multiple MCP session connections concurrently.\n\n#### Classes\n\n- **`ClientSessionGroup`**: Manages connections to multiple MCP servers.\n  - **Methods**:\n    - `__init__(self, exit_stack, component_name_hook)`\n    - `sessions(self) -> list[mcp.ClientSession]`\n    - `prompts(self) -> dict[str, types.Prompt]`\n    - `resources(self) -> dict[str, types.Resource]`\n    - `tools(self) -> dict[str, types.Tool]`\n\n#### Example\n\n```python\nfrom mcp.client.session_group import ClientSessionGroup\n\nsession_group = ClientSessionGroup(exit_stack=None, component_name_hook=None)\nsessions = session_group.sessions()\nprint(sessions)\n```\n\n### Module: `streamable_http`\n\n**Path**: `src/mcp/client/streamable_http.py`\n\nImplements the StreamableHTTP transport for MCP clients.\n\n#### Classes\n\n- **`StreamableHTTPError`**: Base exception for StreamableHTTP errors.\n- **`ResumptionError`**: Raised for invalid resumption requests.\n- **`RequestContext`**: Context for a request operation.\n\n#### Functions\n\n- **`_update_headers_with_session(self, base_headers) -> dict[str, str]`**\n- **`_is_initialization_request(self, message) -> bool`**\n- **`_is_initialized_notification(self, message) -> bool`**\n- **`_maybe_extract_session_id_from_response(self, response) -> None`**\n\n#### Example\n\n```python\nfrom mcp.client.streamable_http import RequestContext\n\ncontext = RequestContext(url='https://api.example.com', headers={}, timeout=30, sse_read_timeout=60, auth=None)\n```\n\n## Error Handling\n\nCommon errors include `StreamableHTTPError` and `ResumptionError`. These should be caught and handled appropriately to ensure robust applications.\n\n## Authentication\n\nOAuth2 authentication is handled by the `OAuthClientProvider` class, which supports token storage and automatic refresh.\n\n## Response Formats\n\nResponses are typically JSON objects. Ensure to handle and parse responses correctly to extract necessary information.\n\nThis documentation provides a comprehensive overview of the Python SDK, detailing core modules, classes, and functions with practical examples and error handling strategies. For further details, refer to the source code and explore additional modules and utilities.",
  "doc_type": "api",
  "metadata": {
    "repository": "python-sdk",
    "language": "python",
    "generation_model": "gpt-4o",
    "modules_count": 157
  },
  "confidence_score": 0.85,
  "word_count": 546
}